import{r,A as H,k as P,m as v,b7 as L,b8 as Q,b9 as D,ba as T,bb as N,y as W,a0 as z,a1 as B,bc as G,bd as Y}from"./index-fe6125eb.js";var q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const J=q;var k=function(t,n){return r.createElement(H,P(P({},t),{},{ref:n,icon:J}))};k.displayName="CheckOutlined";const re=r.forwardRef(k),K=[],h=K;var V=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};let F="";function X(){return F}function y(e){const t=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:C,open:!0}),o;function a(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];const O=l.some(i=>i&&i.triggerCancel);e.onCancel&&O&&e.onCancel.apply(e,[()=>{}].concat(v(l.slice(1))));for(let i=0;i<h.length;i++)if(h[i]===C){h.splice(i,1);break}L(t)}function m(s){var{okText:l,cancelText:c,prefixCls:O}=s,i=V(s,["okText","cancelText","prefixCls"]);clearTimeout(o),o=setTimeout(()=>{const u=Q(),{getPrefixCls:p,getIconPrefixCls:g}=N(),b=p(void 0,X()),x=O||`${b}-modal`,j=g();D(r.createElement(T,Object.assign({},i,{prefixCls:x,rootPrefixCls:b,iconPrefixCls:j,okText:l,locale:u,cancelText:c||u.cancelText})),t)})}function C(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),a.apply(this,l)}}),n.visible&&delete n.visible,m(n)}function f(s){typeof s=="function"?n=s(n):n=Object.assign(Object.assign({},n),s),m(n)}return m(n),h.push(C),{destroy:C,update:f}}function M(e){return Object.assign(Object.assign({},e),{type:"warning"})}function A(e){return Object.assign(Object.assign({},e),{type:"info"})}function R(e){return Object.assign(Object.assign({},e),{type:"success"})}function I(e){return Object.assign(Object.assign({},e),{type:"error"})}function S(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Z(e){let{rootPrefixCls:t}=e;F=t}function U(){const[e,t]=r.useState([]),n=r.useCallback(o=>(t(a=>[].concat(v(a),[o])),()=>{t(a=>a.filter(m=>m!==o))}),[]);return[e,n]}const _=(e,t)=>{let{afterClose:n,config:o}=e;var a;const[m,C]=r.useState(!0),[f,s]=r.useState(o),{direction:l,getPrefixCls:c}=r.useContext(W),O=c("modal"),i=c(),u=function(){C(!1);for(var g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];const j=b.some(w=>w&&w.triggerCancel);f.onCancel&&j&&f.onCancel.apply(f,[()=>{}].concat(v(b.slice(1))))};r.useImperativeHandle(t,()=>({destroy:u,update:g=>{s(b=>Object.assign(Object.assign({},b),g))}}));const p=(a=f.okCancel)!==null&&a!==void 0?a:f.type==="confirm";return r.createElement(z,{componentName:"Modal",defaultLocale:B.Modal},g=>r.createElement(T,Object.assign({prefixCls:O,rootPrefixCls:i},f,{close:u,open:m,afterClose:n,okText:f.okText||(p?g.okText:g.justOkText),direction:l,cancelText:f.cancelText||g.cancelText})))},ee=r.forwardRef(_);let E=0;const te=r.memo(r.forwardRef((e,t)=>{const[n,o]=U();return r.useImperativeHandle(t,()=>({patchElement:o}),[]),r.createElement(r.Fragment,null,n)}));function ne(){const e=r.useRef(null),[t,n]=r.useState([]);r.useEffect(()=>{t.length&&(v(t).forEach(C=>{C()}),n([]))},[t]);const o=r.useCallback(m=>function(f){var s;E+=1;const l=r.createRef();let c;const O=r.createElement(ee,{key:`modal-${E}`,config:m(f),ref:l,afterClose:()=>{c==null||c()}});return c=(s=e.current)===null||s===void 0?void 0:s.patchElement(O),{destroy:()=>{function i(){var u;(u=l.current)===null||u===void 0||u.destroy()}l.current?i():n(u=>[].concat(v(u),[i]))},update:i=>{function u(){var p;(p=l.current)===null||p===void 0||p.update(i)}l.current?u():n(p=>[].concat(v(p),[u]))}}},[]);return[r.useMemo(()=>({info:o(A),success:o(R),error:o(I),warning:o(M),confirm:o(S)}),[]),r.createElement(te,{key:"modal-holder",ref:e})]}function $(e){return y(M(e))}const d=G;d.useModal=ne;d.info=function(t){return y(A(t))};d.success=function(t){return y(R(t))};d.error=function(t){return y(I(t))};d.warning=$;d.warn=$;d.confirm=function(t){return y(S(t))};d.destroyAll=function(){for(;h.length;){const t=h.pop();t&&t()}};d.config=Z;d._InternalPanelDoNotUseOrYouWillBeFired=Y;const ce=d;export{re as C,ce as M};
